!!! Strict
%html{:xmlns=>"http://www.w3.org/1999/xhtml", :lang=>"en"}
  %head
    %meta{:'http-equiv'=>"Content-Type", :content=>"text/html; charset=utf-8"}
    %meta{:name=>"keywords", :content=>"failtale, error reporting, error, reporting, logging, log, production, live, development, rails, ruby, ruby on rails, php, javascript, air"}
    %title Failtale
    = render_shared :home_assets
  %body#home

    #wrapper
      #header.clearfix

        %ul.clearfix
          %li.login
            %a{ :href => "#", :title => "Login" }
              Login
          %li.request
            %a{ :href => "#", :title => "Request invitation", :rel => "content5" }
              Request invitation
          %li.subscribe
            %a{ :href => "#", :title => "Newsletter" }
              Newsletter
          %li.invites-counter
            - if invites_left(50).to_i > 0
              Only
              %strong
                = invites_left(50)
              invites left, so hurry!

        %h1
          %a{ :href => "/", :title => "Failtale (beta) - Telling you more about failing applications." }
            Failtale
            %sup Beta
            \- Telling you more about failing applications.

        - numbers=("%07d" % Occurence.count).split(//)
        %div.counter-holder.clearfix
          %div.counter
            %span
              = numbers[0]
              %img{ :src =>"/images/splash/separator.gif", :alt =>""}
            %span.dot
              \.
              %img{ :src =>"/images/splash/separator.gif", :alt =>""}
            %span
              = numbers[1]
              %img{ :src =>"/images/splash/separator.gif", :alt =>""}
            %span
              = numbers[2]
              %img{ :src =>"/images/splash/separator.gif", :alt =>""}
            %span
              = numbers[3]
              %img{ :src =>"/images/splash/separator.gif", :alt =>""}
            %span.dot
              \.
              %img{ :src =>"/images/splash/separator.gif", :alt =>""}
            %span
              = numbers[4]
              %img{ :src =>"/images/splash/separator.gif", :alt =>""}
            %span
              = numbers[5]
              %img{ :src =>"/images/splash/separator.gif", :alt =>""}
            %span
              = numbers[6]
              %img{ :src =>"/images/splash/separator.gif", :alt =>""}


      #container
        %ul.features
          %li.restfull-api
            %a.active{:href => "#", :title =>"RESTful API", :rel => "content1"}
              RESTful API
          %li.open-source
            %a{:href => "#", :title =>"Open Source &amp; Free", :rel => "content2"}
              Open Source &amp; Free
          %li.platform-agnostic
            %a{:href => "#", :title =>"Platform Agnostic", :rel => "content3"}
              Platform Agnostic
          %li.and-more
            %a{:href => "#", :title =>"And More ...", :rel => "content4"}
              And More ...
          %li.request-invitation
            %a{ :href => "#", :title => "Request invitation", :rel => "content5" }
              Request Invitation

        #contentBlock
          #content1.contentItem
            %p
              Failtale collects reports that are generated by your applications.  Wether it's a Rails app, a JavaScript block or an Adobe Air application.
            %p
              Using Failtale means logging your application becomes more transparent.  You can invite fellow developers, or even your momma, to take a peek at the reports.
              If that's your thing.  No seriously.  It can be done.

          #content2.contentItem{:style => "display:none;"}
            %p
              Failtale is open source (MIT). This means that you can install Failtale on your own server. But the easiest way is
              %a{:href => '#', :rel => 'content5', :class => 'toTab'} to register for a free account.
              So you can sleep while we take care of the uptime.
            %p
              The source code is hosted at
              %a{:href => 'http://github.com/mrhenry/failtale'} GitHub
              and can be downloaded
              %a{:href => 'http://github.com/mrhenry/failtale/downloads'} here

          #content3.contentItem{:style => "display:none;"}
            %p
              Failtale is build to be extendable so it can support more than just Rails or Ruby. We have already a reporter for
              %a{:href => 'http://github.com/mrhenry/failtale-reporter' }Rails or Ruby
              &
              %a{:href => 'http://github.com/mrhenry/failtale-as3'}Actionscript 3.
            %p
              They contain examples so you can easily adopt them into your projects.

          #content4.contentItem{:style => "display:none;"}
            %p
              If you have any questions or suggestions drop us an email at
              %a{:href => 'mailto:failtale@mrhenry.be'} failtale@mrhenry.be

          #content5.contentItem{:style => "display:none;"}
            %p
              For now we'll work with invitations so we can make sure Failtale keeps working if thousands of people decide to start using it.
            - form_for InvitationRequest.new, :html => {:class => 'emailForm'} do |f|
              %p
                = f.text_field :email, :class => 'text long', :value => 'Email'
                %span.valid{:style => "display:none;"}
                %span.invalid{:style => "display:none;"}
              %p
                = f.submit "Request invitation", :class => 'button'

      #login{:style => "display:none;"}
        - form_for UserSession.new, :url => user_session_path, :html => {:class => 'form'} do |f|
          %p
            = f.text_field :login, :class => 'text clear-field', :value => 'Login'
            = f.password_field :password, :class => 'text clear-field', :value => 'Password'
            = f.submit "Login", :class => 'button'
          %p.remember
            = f.check_box :remember_me, :class => 'checkbox'
            = f.label :remember_me, nil, :class => 'checkbox'
          %p.forgot-password
            = link_to "Forgot password?", new_password_reset_path



      #subscribe{:style => "display:none;"}
        - form_for :subscription, :url => subscription_path, :html => {:class => 'form'} do |f|
          %p
            = f.text_field :email, :class => 'text clear-field', :value => 'Email'
            = f.submit "Subscribe", :class => 'button'


      %ul#shots
        %li
          %img{:src => "/images/splash/screen1.jpg", :alt => "Failtale screenshot"}
        %li
          %img{:src => "/images/splash/screen2.jpg", :alt => "Failtale screenshot"}
        %li
          %img{:src => "/images/splash/screen1.jpg", :alt => "Failtale screenshot"}

      %a.deployMe{:href => "http://bushi.do/?repo=git@github.com:sgrove/failtale.git", :title => "Deploy me on Bushido"}
        Deploy me on Bushido

      #footer
        %p
          a
          %a{:href => "http://www.mrhenry.be", :title => "Mr. Henry"}
            %img{:src => "/images/splash/logo_mrhenry.png", :title => "Mr. Henry", :alt => "Mr. Henry"}
          webapplication, with love &copy; 2009 - 2010

    = render_shared :google if FAILTALE[:google_analytics]
